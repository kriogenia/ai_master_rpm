\documentclass[onecolumn]{IEEEtran}

\usepackage{amsmath}
\usepackage{authblk}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
% \graphicspath{ {images/} }

% metadata
\author{Ricardo Soto Est√©vez}
\affil{Menendez Pelayo International University}
\date{\today}
\title{Practical study of basic Genetic Algorithm over the p-Hub Median Problem}

% 

% custom macros
\newcommand{\ip}{\emph{p}}
\newcommand{\wij}{\emph{W\textsubscript{ij}}}
\def\code#1{\texttt{#1}}
\def\point#1#2{\emph{#1\textsubscript{#2}}}

\begin{document}

\maketitle

\begin{abstract} \noindent {
This article addresses the single allocation p-hub median problem by applying a genetic algorithm (GA)
to optimize hub placements. It details the fitness function for evaluating candidate solutions and describes
the genetic operators used to generate new populations. Performance benchmarks across various problem sizes
are presented to compare implementations and identify the most effective configurations.
} \end{abstract}

\begin{IEEEkeywords}
Hub location, genetic algorithms, heuristic solution, metaheuristics, analysis 
\end{IEEEkeywords}

\section{Introduction}

The hub location problem was first introduced by O'Kelly (1987)\cite{OKelly1987}. It stems from real world
industries, like postal deliveries or passengers transports, where different places are nodes in an
interconnected graph and all possible transits should be optimized defining some of them as hubs. These
centrals hubs would serve as switching points for flows between the nodes, optimizing the edges connecting
two hubs. Each node would be assigned to a hub and the transit from a node \emph{i} to a node \emph{j}
would be routed first to the hub assigned to ii, \emph{k}, and then to \emph{j} via its own assigned hub, 
\emph{l}. This structure creates a network where the positioning of hubs significantly 
impacts transportation costs. The hub location model seeks to minimize these costs by choosing optimal hub
placements.

The first approach proposed by O'Kelly (1987)\cite{OKelly1987} was a quadratic integer program with a
non-convex objective function, what easily points this as a NP-hard problem with high computation costs
and a general magnitude of \emph{O(n\textsuperscript(4))}. This sparkled several articles in the literature
with new approaches and variants to this problem, see: Campbell (1996)\cite{Campbell1996}, O'Kelly (1992)
\cite{OKelly1992} and Aykin (1994)\cite{Aykin1994}.

From this subsequent articles on the matter we are the most interested in those of A.T. Ernst \&
M. Krishnamoorthy\cite{Ernst1996}\cite{Ernst1998}\cite{Ernst1999}. In these papers the authors expand
the problem defining three different costs for each type of connection (spoke-to-hub, hub-to-hub and
hub-to-spoke) instead of the uniform cost or the alpha reduction that was used in the previous
enunciates. On this research we'll tackle the problem specified in "\emph{Efficient algorithms for
the uncapacitated single allocation \ip-hub median problem}"\cite{Ernst1996} version, but the three
papers work over the same dataset with different restrictions.

This papers studies the uncapacitated single allocation \ip-hub median problem (from now on
\code{USApHMP}). The scenario of this problem is a complete graph \emph{G=(N,E)} where \emph{N={1, ..., n}} is
the set of nodes and \emph{E = N x N} is the set of edges connecting every node with the rest.
The volume of traffic between two nodes \emph{i} and \emph{j} is given in the flows matrix \emph{W}, 
being \wij the flow demand from \emph{i} to \emph{j} (in this variant of the problem this
is not necessarily symmetrical).

This problem is \emph{uncapacitated} as the hubs are assumed to be able to handle an unlimited
capacity of transfers. It's \emph{single} as each node can only have one assigned hub. And
it's a \ip-hub problem as \ip is the fixed numbers of hubs that must emplaced. To see a version
with a variable \ip or capacitated hubs, please consult \cite{Ernst1999}. For a version with 
allowing multiple allocations, refer to \cite{Ernst1998}.

The main difference of this variant with previous literatures is the presence of three separate
costs associated with each flow \wij. The \emph{collection} ($\chi$) cost is associated to the allocation 
of the transfered item from the origin node to its assigned hub; the \emph{transfer} ($\alpha$) cost is 
applied to the movement between hubs; and the \emph{distribution} ($\delta$) refers to the remaining step, 
from the last hub to the terminal location. Each one of this is proportional to the distance between 
the connected nodes.

These three papers of Ernst and Krishnamoorthy use a dataset from the \emph{Australia Post} with 200
nodes and the respective 200x200 flows matrix. A C program was attached to the dataset to reduce
it into smaller problems given a certain N and P. The optimal solutions for every combination of 
\emph{N = {10, 20, 30, 40, 50}} and \emph{P = {2, 3, 4, 5}} were also provided. In this paper we'll
be working with this dataset and these smaller problems.

Following this introduction we'll... 

% TODO add structure summary

\section{Mathematical formulation}

The problem \code{USApHMP-Q} is the quadratic linear algorithm of O'Kelly (1997)\cite{OKelly1987}
reformulated by Ernst \& Krishnamoorthy (1996)\cite{Ernst1996} to accomodate the new costs
introduced on their problem. Let Z be a matrix \emph{NxN} indicating which nodes of \emph{N} are
allocated to which hubs. The total cost of a certain allocation \emph{Z} is the sum of the
delivery cost every path \emph{i,j}, being the delivery cost of a path the product of the
flow between the nodes and the sum of each step of the delivery.

\break

\textbf{Notation:}

\wij: flow between the nodes \emph{i} and \emph{j}

\point{d}{ij}: distance between the nodes \emph{i} and \emph{j} 

$\chi$: collection cost

$\alpha$: hub-to-hub transport cost

$\delta$: distribution cost
\[
Z_{ij} = \begin{cases}
  1 & \text{if } i \text{ is assigned to hub } j, \forall i = 1,\dots,n, \forall j = 1,\dots,n \\
  0 & \text{otherwise, }\forall i = 1,\dots,n, \forall j = 1,\dots,n \\
\end{cases}
\]

\subsection{Problem \code{USAp-HMP-Q}}

\[
  \text{Min. } \sum_{i\in N}\sum_{j\in N}\sum_{k\in N}\sum_{l\in N} W_{ij}(\chi d_{ik} Z_{ik} + \alpha d_{kl} Z_{ik} Z_{jl} + \delta d_{jl} Z_{jl})
\]

\begin{alignat}{3}
  \text{S.t.} \quad & \sum_{k \in N} & \quad Z_{kk} &= p         & \label{p_hubs}\\
                    & \sum_{k \in N} & \quad Z_{kk} &= 1         & \quad & \forall i \in N \label{single_alloc} \\
                    &                & \quad Z_{ik} &\le Z_{kk}  & \quad & \forall i, k \in N \label{only_hubs} \\
                    &                & \quad Z_{ik} &\in \{0,1\} & \quad & \forall i, k \in N \label{prev_realloc} \\
\end{alignat}

In this problem \eqref{p_hubs} sets the \ip-hub part of the problem
ensuring that there's only \ip hubs. \eqref{single_alloc} ensures the single
allocation as each column of \emph{Z} can only sum 1. \eqref{only_hubs} prevents
allocations to non-hub nodes. And \eqref{prev_realloc} asserts that hub
nodes are not allocated to other nodes.

Aside from this formulation, Ernst \& Krishnamoorthy present two other versions in the
same paper\cite{Ernst1996}. To see other formulations around the same or similar problems
refer to the survey conducted by Farahani (2013)\cite{Farahani2013}.

\subsection{Fitness function}

% define the fitness that we'll be using
%
% |U(S)| = p <-- use this in the equation to indicated the number of hubs restriction

\section{Genetic Algorithm}

\subsection{Chromosome encoding}

\subsection{Selection}

\subsection{Crossover}

\subsection{Mutation}

\subsection{Replacement}

\section{Computational results}

\section{Conclusion}

\bibliographystyle{IEEEtran}
\bibliography{references}

\end{document}
